# Check interface
ifconfig

# Change MAC address
# Note: this only changes in memory, not physically. Should reset once the device restarts
# ----------------------------------------------
ifconfig [name of interface] down # disable the interface
ifconfig [name of interface] hw ether [new mac address] 
ifconfig [name of interface] up 


# Check wireless interface
iwconfig

# Change from managed (default) to monitor (can be used to capture packages in range)
ifcondig [name of interface] down
aairmon -ng check kill # disable wireless connection
iwconfig [name of interface] mode monitor
ifconfig [name of interface] up


#--------------------------------------
Pre Connection Attacks
#--------------------------------------

# Packet Sniffing basics (Using Airodump-ng)
Airodump-ng is a packet sniffer
Used to capture all packets within range
Display detailed info about networks around us

1. Scan the area for all the available networks:
	- Enable moniitor mode on wireless adapter
	- airodump-ng [interface name], e.g. mon0: (this will not show all the networks, bcs airodump-ng only sniffs on 2.4 GHz, dependinig on the wireless adapter.)
		- BSSID = MAC address of target network
		- PWR = signal strength or power of network. More +ve number has stronger signal
		- Beacons = frames sent by the network and are ther to broadcast its existence. Even if network is hidden it will always broadcast these frames telling all devices that it exists
		- CH = which channel the network is working on
		- #Data = num of data packets which are useful
		- #/s = num of data packets collected in the past 10 seconds
		- MB = max speed supported by the network
		- CIPHER = cipher used in the network
		- AUTH = authentication used in the network
		- ENC = encryption mode used by the network
		- ESSID = name of network

	Tell to sniff on 5 GHz:
	airodump-ng --band a [interface name, e.g. mon0]. # --band a = that works with 5 GHz frequencies
		- can use multiple bands, e.g. --band abg (for both 2.4 and 5 GHz at the same time) # slightly slower and needs a more powerful wireless adapter

2. Targeted packet sniffing:
	airodump-ng --bssid [BSSID] --channel [channel num from the details from prev step] --write "[filename, e.g. test]" [name of wireless adapater, e.g. mon0] # --channel is to specify the channel,  --write is optional if want to write to a file

	- Bottom section: 
		- STATION: all clients connected to the network
		- Rate: speed
		- Lost = packet lost
		- Frames = num of data frames captured
		- Probe = devices not connected but still looking for networks

	When stopped, a new file pops up and it contains data captured during the runtime of airo-ng (data sent to and from the network). Main file = .cap, these packets are encrypted using the encryption mode specified

	When using wireshark, not that useful because the data is encrypted



3. Deauthentication attack: (works on encrypted networks, no need to know network key or connect to the network. Can be used for social engineering ):
	Make devices disconnect from the network
	- Spoof MAC address to the target client's MAC and pretend that we send request to the router for disconnection
	- Spoof MAC address to the router's MAC and approve the disconnection
	- use aireplay-ng --deauth [num of deauth packets, rly large number so that it keeps sending the se packets to the router and the target device so it is disconnected for a along period of time, to stop = stop the program e.g. 10000000] -a [MAC address of the network] -c [MAC address of the target client] -D(if target network is 5 GHz) [name of interfae, e.g. mon0] #this might fail if airocump-ng is not running against the target network, so use (2.). so use 2 terminals 









